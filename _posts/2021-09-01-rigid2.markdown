---
layout: post
title:  "3D Rigid Body Motion (Part 2)"
author: seri
categories: [ computer vision ]
image: assets/images/rigid/1.png
tags: featured
---

# Rotation Vectors and Euler Angles
## Rotation Vectors
With a rotation matrix to describe the rotation, is it enough to use a $4 \times 4$ transformation matrix to represent a 6-degree-of-freedom 3D rigid body motion? Obviously, the matrix representation has at least the following disadvantages:
1. $SO(3)$ has a rotation matrix of 9 qunatities, but a 3D rotation only has 3 degrees of freedom. Therefore, the matrix expression is redundant. 
2. Similarly, the transformation matrix expresses 6 degree-of-freedom transformation with 16 quantities. So, is there a more compact representation?
3. The rotation matrix itself has constraints: it must be an orthogonal matrix with a determinant of 1. The same is true for the transformation matrix. These constraints make the solution more difficult when you want to estimate or optimize a rotation matrix/transform matrix.
Therefore, we hope that there is a way to describe rotation and translation more compactly. For example, is it feasible to express the rotation with a three-dimensional vector and express transformation with a six-dimensional vector?

Obviously, a rotation can be described by a rotation axis and a rotation angle. Thus, we can use a vector whose direction is parallel with the axis of rotation, and the length is equal to the angle of rotation, which is called the *rotation vector* (or angle-axis/axis-angle). 

Only a three-dimensional vector is needed here to describe the rotation. Similarly, we may also use a rotation vector and a translation vector and a to express a transformation for a transformation matrix. The variable at this time is exactly six dimensions. 

Consider a rotation represented by $R$. If described by a rotation vector, assuming that the rotation axis is a unit-length vector $n$ and the angle is $\theta$, then the vector $\theta n$ can also describe this rotation. 

So, we have to ask, what is the connection between the two expressions? In fact, it is not difficult to derive their conversion relationship. The conversion from the rotation vector to the rotation matrix is shown by the *Rodrigues' formula*. Since the derivation process is a little complicated, it is not described here. Only the result of the conversion is given.
$$ R = \cos \theta I + (1-\cos \theta) n n^T + \sin \theta n^{\wedge}$$.
The symbol $\wedge$ is a vector to skew-symmetric conversion. Conversely, we can also calculate the conversion from a rotation matrix to a rotation vector. For the corner $\theta$, taking the *trace* of both sides, we have:
$$\begin{split} & tr(R) = \cos \theta tr(I) + (1-\cos \theta) tr(nn^T) + \sin \theta tr(n^{\wedge}) \\ & = 3 \cos \theta + (1 - \cos \theta) \\ & = 1+ 2 \cos \theta \end{split}$$.
Therefore, $$\theta = \arccos (\frac{tr(R) - 1}{2})$$.
Regarding the axis $n$, since the rotation axis does not change after the rotation, we have: $$Rn=n$$. So, the axis $n$ is the eigenvector corresponding to the amtrix $R$'s eigenvalue $1$. Solving this equation and normalizing it gives the axis of rotation. 




## References
- [Introduction to Visual SLAM](https://www.springer.com/gp/book/9789811649387)


